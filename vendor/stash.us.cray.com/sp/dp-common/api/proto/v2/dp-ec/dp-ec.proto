/*
 * gRPC protocol buffer message descriptions for communications to Element Controllers
 *
 * Copyright 2019 Cray Inc.  All Rights Reserved
 */

syntax = "proto3";

package ecgrpc;

import "google/protobuf/timestamp.proto";

option go_package = "stash.us.cray.com/sp/dp-common/api/proto/v2/ecgrpc";


// Definition for communication with element controller services
service ControllerService {
  // Sends a task request to Element Controllers
  rpc ProcessTaskRequest(ECTaskRequest) returns (ECTaskResponse) {}
}

// Request to create new task
message ECTaskRequest{
    // API versioning explicit to DP-API
    string api = 1;

    // Who is making request
    string sender = 2;

    // Unique integer identifier of the task
    int64 id = 3;

    // Human-friendly name of the task
	string name = 4;

    // Original request URI
    string uri = 5;

    // Method requested
    string method = 6;

    // JSON message for the task
    string jsonMsg = 7;

    // Date and time to remind the task
    google.protobuf.Timestamp reminder = 8;

    // Time stamp for request
    string timestamp = 9;
}

// Contains data of created task
message ECTaskResponse{
    // API versioning explicit to DP-API
    string api = 1;

    // ID of created task
    int64 id = 2;

    // Data from performing task
    string jsonData = 3;
}
